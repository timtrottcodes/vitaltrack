<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>VitalTrack - Your Personal Health &amp; Fitness Progress Tracker</title>
    <meta
      name="description"
      content="Track weight, BMI, blood pressure, and more with VitalTrack. A simple, privacy-first health tracker that stores your data locally, helps you set goals, and visualize your progress with clear charts and reports."
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
  </head>
  <body class="bg-light">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">VitalTrack</a>
        <div class="d-flex align-items-center">
          <div class="form-check form-switch text-white ms-3">
            <input class="form-check-input" type="checkbox" id="darkModeToggle" />
            <label class="form-check-label" for="darkModeToggle">Dark Mode</label>
          </div>
        </div>
      </div>
    </nav>

    <div class="container mt-4">
      <!-- Input Form -->
      <div class="card mb-4">
        <div class="card-header">Log Health Data</div>
        <div class="card-body">
          <form id="logForm" class="row g-3">
            <div class="col-md-3">
              <label class="form-label">Date</label>
              <input type="date" id="date" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Weight (kg)</label>
              <input type="number" id="weight" step="0.1" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">BMI</label>
              <input type="number" id="bmi" step="0.1" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">BMR</label>
              <input type="number" id="bmr" step="1" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Muscle %</label>
              <input type="number" id="muscle" step="0.1" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Water %</label>
              <input type="number" id="water" step="0.1" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Fat %</label>
              <input type="number" id="fat" step="0.1" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Bone Mass (kg)</label>
              <input type="number" id="bone" step="0.1" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Pulse (bpm)</label>
              <input type="number" id="pulse" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">BP (systolic)</label>
              <input type="number" id="bpSys" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">BP (diastolic)</label>
              <input type="number" id="bpDia" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Steps</label>
              <input type="number" id="steps" class="form-control" />
            </div>
            <div class="col-md-3">
              <label for="cholesterol" class="form-label">Total Cholesterol (mmol/l)</label>
              <input type="number" class="form-control" id="cholesterol" step="0.01" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Notes</label>
              <textarea id="notes" class="form-control" rows="1" placeholder="Optional notes about this entry"></textarea>
            </div>
            <div class="col-md-3">
              <label for="startDate" class="form-label">Start Date</label>
              <input type="date" id="startDate" class="form-control" />
            </div>
            <div class="col-md-3">
              <label for="endDate" class="form-label">End Date</label>
              <input type="date" id="endDate" class="form-control" />
            </div>

            <div class="col-12">
              <button type="submit" class="btn btn-success">Save Entry</button>
              <button type="button" id="exportBtn" class="btn btn-secondary">Export JSON</button>
              <button type="button" id="importBtn" class="btn btn-warning">Import JSON</button>
              <input type="file" id="importFile" accept="application/json" style="display: none" />
              <button type="button" class="btn btn-dark" id="printBtn">Print Report</button>
              <button type="button" class="btn btn-danger" id="clearBtn">Clear Data</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Charts Tabs -->
      <div class="card">
        <div class="card-header">Progress Charts</div>
        <div class="card-body">
          <ul class="nav nav-tabs" id="chartTabs" role="tablist">
            <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#weightTab">Weight</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#bmiTab">BMI</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#bmrTab">BMR</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#muscleTab">Muscle %</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#waterTab">Water %</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#fatTab">Fat %</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#boneTab">Bone Mass</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#pulseTab">Pulse</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#bpTab">Blood Pressure</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#cholesterolTab">Cholesterol</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#stepsTab">Steps</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#dataTab">Data</button></li>
          </ul>
          <div class="tab-content mt-3">
            <div class="tab-pane fade show active" id="weightTab"><canvas id="weightChart"></canvas></div>
            <div class="tab-pane fade" id="bmiTab"><canvas id="bmiChart"></canvas></div>
            <div class="tab-pane fade" id="bmrTab"><canvas id="bmrChart"></canvas></div>
            <div class="tab-pane fade" id="muscleTab"><canvas id="muscleChart"></canvas></div>
            <div class="tab-pane fade" id="waterTab"><canvas id="waterChart"></canvas></div>
            <div class="tab-pane fade" id="fatTab"><canvas id="fatChart"></canvas></div>
            <div class="tab-pane fade" id="boneTab"><canvas id="boneChart"></canvas></div>
            <div class="tab-pane fade" id="pulseTab"><canvas id="pulseChart"></canvas></div>
            <div class="tab-pane fade" id="bpTab"><canvas id="bpChart"></canvas></div>
            <div class="tab-pane fade" id="stepsTab"><canvas id="stepsChart"></canvas></div>
            <div class="tab-pane fade" id="cholesterolTab"><canvas id="cholesterolChart"></canvas></div>
            <div class="tab-pane fade" id="dataTab">
              <div class="table-responsive">
                <table class="table table-striped table-hover" id="dataTable">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Weight</th>
                      <th>BMI</th>
                      <th>BMR</th>
                      <th>Muscle %</th>
                      <th>Water %</th>
                      <th>Fat %</th>
                      <th>Bone</th>
                      <th>Pulse</th>
                      <th>BP Sys</th>
                      <th>BP Dia</th>
                      <th>Cholesterol</th>
                      <th>Steps</th>
                      <th>Notes</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
              <small class="text-muted">Click a row to edit its values in the Log Health Data form.</small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Print Area -->
    <div id="printArea" class="p-4">
      <h2>Health Report</h2>
      <canvas id="printChart" height="100"></canvas>
      <hr />
      <h4>Raw Data</h4>
      <div class="table-responsive">
        <table class="table table-bordered" id="printTable">
          <thead>
            <tr>
              <th>Date</th>
              <th><span style="color: blue !important">Weight (kg)</span></th>
              <th>BMI</th>
              <th>BMR</th>
              <th>Muscle %</th>
              <th>Water %</th>
              <th>Fat %</th>
              <th>Bone (kg)</th>
              <th>Pulse</th>
              <th><span style="color: red !important">BP Sys</span></th>
              <th><span style="color: green !important">BP Dia</span></th>
              <th>Cholesterol (mmol/l)</th>
              <th>Steps</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <footer class="text-center mt-4 mb-2">
      <small> <a href="https://github.com/timtrottcodes/vitaltrack" target="_blank" rel="noopener noreferrer"> VitalTrack </a> - Released under the MIT License </small>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
